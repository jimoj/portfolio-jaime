<nav class="fixed top-0 left-0 right-0 z-50 transition-all duration-300"
     [ngClass]="{'bg-black bg-opacity-80 backdrop-blur-md border-b border-gray-800': isScrolled}">
  <div class="max-w-7xl mx-auto px-6 py-4">
    <div class="flex justify-between items-center">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="#home" class="hover:opacity-80 transition-opacity">
          <img src="./assets/images/logo-full.png" alt="Jaime JimÃ©nez" class="h-12 w-auto rounded-full">
        </a>
      </div>

      <!-- Desktop Menu -->
      <div class="hidden md:flex space-x-8">
        <a href="#home" 
           [class.text-green-400]="activeSection === 'home'"
           class="text-gray-300 hover:text-white transition-colors relative group">
          {{ 'nav.home' | translate }}
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-green-400 transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="#services" 
           [class.text-green-400]="activeSection === 'services'"
           class="text-gray-300 hover:text-white transition-colors relative group">
          {{ 'nav.services' | translate }}
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-green-400 transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="#technologies" 
           [class.text-green-400]="activeSection === 'technologies'"
           class="text-gray-300 hover:text-white transition-colors relative group">
          {{ 'nav.technologies' | translate }}
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-green-400 transition-all duration-300 group-hover:w-full"></span>
        </a>

        <a href="#experience" 
           [class.text-green-400]="activeSection === 'experience'"
           class="text-gray-300 hover:text-white transition-colors relative group">
          {{ 'nav.experience' | translate }}
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-green-400 transition-all duration-300 group-hover:w-full"></span>
        </a>

      </div>

      <!-- Language & Theme Toggle -->
      <div class="flex items-center space-x-4">
        <!-- Language Toggle -->
        <div class="flex items-center space-x-2 bg-gray-800 rounded-full p-1">
          <button 
            (click)="setLanguage('es')" 
            [class.bg-green-600]="currentLang === 'es'"
            class="p-1.5 rounded-full transition-colors duration-300 hover:bg-gray-700">
            <span class="text-lg">ğŸ‡ªğŸ‡¸</span>
          </button>
          <button 
            (click)="setLanguage('en')" 
            [class.bg-green-600]="currentLang === 'en'"
            class="p-1.5 rounded-full transition-colors duration-300 hover:bg-gray-700">
            <span class="text-lg">ğŸ‡ºğŸ‡¸</span>
          </button>
        </div>
        
        <!-- Theme Toggle -->
        <button 
          (click)="toggleTheme()" 
          class="p-2 rounded-full bg-gray-800 hover:bg-gray-700 transition-colors duration-300 text-white">
          <svg *ngIf="isDarkMode" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
          </svg>
          <svg *ngIf="!isDarkMode" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
          </svg>
        </button>
        
        <!-- Mobile Menu Button -->
        <button class="md:hidden text-white" (click)="toggleMobileMenu()">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path *ngIf="!isMobileMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            <path *ngIf="isMobileMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="md:hidden mt-4 space-y-4" [ngClass]="{'hidden': !isMobileMenuOpen}">
      <a href="#home" 
         (click)="isMobileMenuOpen = false"
         [class.text-green-400]="activeSection === 'home'"
         class="block text-gray-300 hover:text-white transition-colors py-2">
        {{ 'nav.home' | translate }}
      </a>
      <a href="#services" 
         (click)="isMobileMenuOpen = false"
         [class.text-green-400]="activeSection === 'services'"
         class="block text-gray-300 hover:text-white transition-colors py-2">
        {{ 'nav.services' | translate }}
      </a>
      <a href="#technologies" 
         (click)="isMobileMenuOpen = false"
         [class.text-green-400]="activeSection === 'technologies'"
         class="block text-gray-300 hover:text-white transition-colors py-2">
        {{ 'nav.technologies' | translate }}
      </a>

      <a href="#experience" 
         (click)="isMobileMenuOpen = false"
         [class.text-green-400]="activeSection === 'experience'"
         class="block text-gray-300 hover:text-white transition-colors py-2">
        {{ 'nav.experience' | translate }}
      </a>

    </div>
  </div>
</nav>